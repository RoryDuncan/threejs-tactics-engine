
/*
    three-js Tactics Engine
*/


(function() {
  var StageLoader, ThreeTacticsEngine;

  console.log("_base");

  StageLoader = require("./_stageloader");

  ThreeTacticsEngine = function() {
    /*
      @PRIVATES
    */

    var THREE, configLoaded;
    if (self.THREE === void 0 || self.$ === void 0) {
      throw new Error("The engine is dependent on THREE.js and jQuery, which one of was not found, or not in the global scope.");
    }
    THREE = self.THREE;
    configLoaded = false;
    /*
      @PUBLICS
    */

    this.THREE = THREE;
    this.load = function() {};
    this.stageLoader = new StageLoader();
    this.loading = function() {};
    this.init = function(options) {
      var config;
      config = $.getJSON((options || {}).config || "json/config.json");
      return config.complete(function() {
        try {
          this.config = $.parseJSON(config.responseText);
        } catch (e) {
          console.log(e);
          throw new Error("JSON was not parsed.");
        }
        return configLoaded = true;
      });
    };
    this.start = function() {};
    return this;
  };

  self.Engine = new ThreeTacticsEngine();

  Engine.init();

  console.log(Engine);

}).call(this);

// Generated by CoffeeScript 1.5.0-pre
